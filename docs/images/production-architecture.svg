<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <!-- Title -->
  <text x="450" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Production Environment Architecture</text>
  
  <!-- Docker Host Box -->
  <rect x="50" y="60" width="800" height="510" fill="#f0f0f0" stroke="#333" stroke-width="2" rx="10"/>
  <text x="60" y="85" font-size="16" font-weight="bold" fill="#333">Docker Host (Production Server)</text>
  
  <!-- Nginx Container -->
  <rect x="80" y="110" width="740" height="120" fill="#009688" stroke="#333" stroke-width="2" rx="5"/>
  <text x="450" y="135" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Nginx Container (Reverse Proxy)</text>
  
  <!-- Nginx Process -->
  <rect x="100" y="150" width="200" height="50" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="200" y="175" font-size="12" text-anchor="middle" fill="#333">Nginx 1.27-alpine</text>
  <text x="200" y="190" font-size="10" text-anchor="middle" fill="#666">Reverse Proxy</text>
  
  <!-- Static Files -->
  <rect x="330" y="150" width="200" height="50" fill="#FFE6CC" stroke="#FF9933" stroke-width="1" rx="3"/>
  <text x="430" y="170" font-size="11" text-anchor="middle" fill="#333">Static Files</text>
  <text x="430" y="185" font-size="9" text-anchor="middle" fill="#666">/static/ → staticfiles/</text>
  <text x="430" y="197" font-size="9" text-anchor="middle" fill="#666">/media/ → mediafiles/</text>
  
  <!-- Ports -->
  <rect x="560" y="150" width="240" height="50" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="680" y="170" font-size="11" text-anchor="middle" fill="#333">Ports: 80 (HTTP)</text>
  <text x="680" y="185" font-size="11" text-anchor="middle" fill="#333">443 (HTTPS)</text>
  
  <!-- Web Container -->
  <rect x="80" y="260" width="350" height="180" fill="#4A90E2" stroke="#333" stroke-width="2" rx="5"/>
  <text x="255" y="285" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Web Container</text>
  
  <!-- Gunicorn -->
  <rect x="100" y="300" width="310" height="50" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="255" y="320" font-size="12" text-anchor="middle" fill="#333">Gunicorn WSGI Server</text>
  <text x="255" y="335" font-size="10" text-anchor="middle" fill="#666">4 workers, Port 8000</text>
  
  <!-- Django App -->
  <rect x="100" y="360" width="310" height="35" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="255" y="382" font-size="11" text-anchor="middle" fill="#333">Django 5.0 (Python 3.12)</text>
  
  <!-- Volumes -->
  <rect x="100" y="400" width="310" height="30" fill="#FFE6CC" stroke="#FF9933" stroke-width="1" rx="3"/>
  <text x="255" y="420" font-size="10" text-anchor="middle" fill="#333">static_volume, media_volume</text>
  
  <!-- DB Container -->
  <rect x="470" y="260" width="350" height="180" fill="#50C878" stroke="#333" stroke-width="2" rx="5"/>
  <text x="645" y="285" font-size="14" font-weight="bold" text-anchor="middle" fill="white">DB Container</text>
  
  <!-- PostgreSQL -->
  <rect x="490" y="300" width="310" height="50" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="645" y="320" font-size="12" text-anchor="middle" fill="#333">PostgreSQL 18.1</text>
  <text x="645" y="335" font-size="10" text-anchor="middle" fill="#666">postgres:18.1-trixie</text>
  
  <!-- Database -->
  <rect x="490" y="360" width="310" height="35" fill="white" stroke="#333" stroke-width="1" rx="3"/>
  <text x="645" y="382" font-size="11" text-anchor="middle" fill="#333">Database: hello_django_prod</text>
  
  <!-- Volume -->
  <rect x="490" y="400" width="310" height="30" fill="#FFE6CC" stroke="#FF9933" stroke-width="1" rx="3"/>
  <text x="645" y="420" font-size="10" text-anchor="middle" fill="#333">Volume: postgres_data</text>
  
  <!-- Connection: Nginx to Web -->
  <line x1="255" y1="230" x2="255" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="270" y="245" font-size="10" fill="#333">proxy_pass</text>
  <text x="270" y="257" font-size="10" fill="#333">:8000</text>
  
  <!-- Connection: Web to DB -->
  <line x1="430" y1="350" x2="470" y2="350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="450" y="340" font-size="10" text-anchor="middle" fill="#333">Port 5432</text>
  
  <!-- External Access -->
  <rect x="80" y="470" width="740" height="80" fill="#FFF5E6" stroke="#FFA500" stroke-width="2" stroke-dasharray="5,5" rx="5"/>
  <text x="90" y="495" font-size="14" font-weight="bold" fill="#333">External Access</text>
  
  <!-- Internet -->
  <ellipse cx="200" cy="520" rx="90" ry="25" fill="#FF6B6B" stroke="#333" stroke-width="2"/>
  <text x="200" y="525" font-size="12" font-weight="bold" text-anchor="middle" fill="white">Internet / Users</text>
  
  <!-- Access Arrow -->
  <line x1="200" y1="495" x2="200" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="210" y="360" font-size="10" fill="#333">HTTPS/HTTP</text>
  
  <!-- Environment Files -->
  <rect x="500" y="485" width="300" height="55" fill="white" stroke="#333" stroke-width="2" rx="5"/>
  <text x="650" y="505" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">.env.prod & .env.prod.db</text>
  <text x="650" y="520" font-size="9" text-anchor="middle" fill="#666">DEBUG=0, SECRET_KEY, DB credentials</text>
  <text x="650" y="532" font-size="9" text-anchor="middle" fill="#666">Production configuration</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#333"/>
    </marker>
  </defs>
</svg>
